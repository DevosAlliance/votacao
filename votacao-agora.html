<!DOCTYPE html>
<html lang="pt-BR">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Votação</title>
    <link
      href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css"
      rel="stylesheet"
    />
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css"
    />
    <link rel="stylesheet" href="assets/css/styles.css" />
  </head>
  <body class="flex flex-col min-h-screen bg-gray-100">
    <!-- Header -->
    <header>
      <nav class="bg-blue-800 text-white">
        <div
          class="container mx-auto px-4 py-4 flex items-center justify-between"
        >
          <a href="#" class="text-2xl font-bold">Sistema de Votação</a>
          <ul class="flex space-x-4 items-center">
            <li>
              <a href="dashboard.html" class="hover:underline">Dashboard</a>
            </li>
            <li>
              <a href="votacao-agora.html" class="hover:underline"
                >Votação Atual</a
              >
            </li>
            <li>
              <a href="historico.html" class="hover:underline">Histórico</a>
            </li>
            <li>
              <a href="projetos-futuros.html" class="hover:underline"
                >Projetos Futuros</a
              >
            </li>
            <li>
              <a href="novo-projeto.html" class="hover:underline"
                >Novo Projeto</a
              >
            </li>
            <li><a href="perfil.html" class="hover:underline">Perfil</a></li>
            <li>
              <a
                href="logout.html"
                class="text-red-400 hover:underline flex items-center"
              >
                <i class="bi bi-box-arrow-right mr-2"></i> Sair
              </a>
            </li>
          </ul>
        </div>
      </nav>
    </header>

    <!-- Main Content -->
    <main class="container mx-auto py-5 flex-grow">
      <div class="text-center mb-4">
        <h2 id="cidade" class="text-3xl font-semibold">São Paulo</h2>
        <h6 id="data-hora" class="text-lg text-gray-600">
          Data: --/--/---- --:--
        </h6>
      </div>

      <!-- Timer -->
      <div class="mb-10 text-center">
        <h5 class="text-xl font-semibold mb-4">Timer</h5>
        <div class="inline-block mb-4">
          <label class="flex items-center space-x-3 cursor-pointer">
            <span id="timerMode" class="text-lg font-medium"
              >Timer Decrescente (3:00)</span
            >
            <div class="relative">
              <input type="checkbox" id="timerSwitch" class="sr-only peer" />
              <div
                class="w-12 h-6 bg-gray-300 rounded-full peer-focus:ring-2 peer-focus:ring-blue-500 peer-checked:bg-blue-600 transition-all"
              ></div>
              <div
                class="absolute top-0.5 left-0.5 w-5 h-5 bg-white rounded-full peer-checked:translate-x-6 transition-transform"
              ></div>
            </div>
          </label>
        </div>
        <h3 id="timerDisplay" class="text-4xl font-semibold mb-4">03:00</h3>
        <div class="space-x-2">
          <button
            class="bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-700"
            id="startBtn"
          >
            Iniciar
          </button>
          <button
            class="bg-yellow-500 text-white px-4 py-2 rounded hover:bg-yellow-700"
            id="pauseBtn"
          >
            Pausar
          </button>
          <button
            class="bg-red-500 text-white px-4 py-2 rounded hover:bg-red-700"
            id="resetBtn"
          >
            Zerar
          </button>
        </div>
      </div>

      <!-- Lista de Votos e Resultados -->
      <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
        <!-- Lista de Votos -->
        <div class="md:col-span-2">
          <div class="bg-white shadow-lg rounded-lg mb-4">
            <div class="bg-blue-500 text-white p-4 rounded-t-lg">
              <h5 class="text-2xl font-semibold">
                Projeto: Reforma do Parque Central
              </h5>
            </div>
            <div class="p-4">
              <h6 class="text-xl font-semibold mb-2">Descrição:</h6>
              <p class="text-gray-700 mb-4">
                O projeto visa revitalizar o Parque Central, com melhorias na
                iluminação, segurança e áreas de lazer.
              </p>
              <h6 class="text-xl font-semibold mb-2">Votantes:</h6>
              <ul class="list-disc list-inside">
                <li class="mb-2">
                  João Silva - <span class="text-green-500">Favor</span>
                </li>
                <li class="mb-2">
                  Maria Souza - <span class="text-red-500">Contra</span>
                </li>
                <li class="mb-2">
                  Carlos Pereira - <span class="text-green-500">Favor</span>
                </li>
                <li class="mb-2">
                  Ana Costa - <span class="text-gray-500">Abstenção</span>
                </li>
                <li class="mb-2">
                  Lucas Almeida - <span class="text-red-500">Contra</span>
                </li>
              </ul>
            </div>
          </div>
        </div>

        <!-- Contador de Resultados -->
        <div>
          <div class="bg-white shadow-lg rounded-lg">
            <div class="bg-blue-800 text-white p-4 rounded-t-lg">
              <h5 class="text-2xl font-semibold">Resultado</h5>
            </div>
            <div class="p-4 text-center">
              <div class="mb-4">
                <span class="text-green-500 block">Favor: 2</span>
                <span class="text-red-500 block">Contra: 2</span>
                <span class="text-gray-500 block">Abstenções: 1</span>
              </div>
              <hr class="mb-4" />
              <p class="text-lg"><strong>Quórum:</strong> 5</p>
            </div>
          </div>
        </div>
      </div>
    </main>

    <!-- Footer -->
    <footer class="bg-blue-800 text-white py-6 mt-auto">
      <div
        class="container mx-auto px-4 flex flex-col md:flex-row justify-between items-center"
      >
        <div>
          <h5 class="text-lg font-bold">Sistema de Votação</h5>
          <p class="text-sm">
            Transparência e Participação nas Decisões Municipais
          </p>
        </div>
        <ul class="flex space-x-4 mt-4 md:mt-0">
          <li><a href="/sobre.html" class="hover:underline">Sobre</a></li>
          <li><a href="/contato.html" class="hover:underline">Contato</a></li>
          <li>
            <a href="/politica-privacidade.html" class="hover:underline"
              >Política de Privacidade</a
            >
          </li>
        </ul>
      </div>
      <div class="text-center mt-4 text-sm">
        &copy; 2025 Sistema de Votação. Todos os direitos reservados.
      </div>
    </footer>

    <script>
      // Atualizar data e hora em tempo real
      function updateDateTime() {
        const now = new Date();
        const formattedDate = now.toLocaleDateString("pt-BR");
        const formattedTime = now.toLocaleTimeString("pt-BR");
        document.getElementById(
          "data-hora"
        ).textContent = `Data: ${formattedDate} ${formattedTime}`;
      }
      setInterval(updateDateTime, 1000);

      // Timer
      let timer;
      let timeRemaining = 180; // 3 minutos em segundos
      let timerMode = "decrescente"; // Modo inicial
      let isRunning = false;

      const timerDisplay = document.getElementById("timerDisplay");
      const timerSwitch = document.getElementById("timerSwitch");

      function updateTimerDisplay() {
        const minutes = Math.floor(timeRemaining / 60)
          .toString()
          .padStart(2, "0");
        const seconds = (timeRemaining % 60).toString().padStart(2, "0");
        timerDisplay.textContent = `${minutes}:${seconds}`;
      }

      function startTimer() {
        if (!isRunning) {
          isRunning = true;
          timer = setInterval(() => {
            if (timerMode === "decrescente") {
              if (timeRemaining > 0) {
                timeRemaining--;
              } else {
                clearInterval(timer);
                isRunning = false;
              }
            } else {
              timeRemaining++;
            }
            updateTimerDisplay();
          }, 1000);
        }
      }

      function pauseTimer() {
        clearInterval(timer);
        isRunning = false;
      }

      function resetTimer() {
        pauseTimer();
        timeRemaining = timerMode === "decrescente" ? 180 : 0;
        updateTimerDisplay();
      }

      timerSwitch.addEventListener("change", () => {
        timerMode = timerSwitch.checked ? "crescente" : "decrescente";
        document.getElementById("timerMode").textContent =
          timerMode === "decrescente"
            ? "Timer Decrescente (3:00)"
            : "Timer Crescente";
        resetTimer();
      });

      document.getElementById("startBtn").addEventListener("click", startTimer);
      document.getElementById("pauseBtn").addEventListener("click", pauseTimer);
      document.getElementById("resetBtn").addEventListener("click", resetTimer);

      updateTimerDisplay();
      updateDateTime();
    </script>
  </body>
</html>
